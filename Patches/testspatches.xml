<?xml version="1.0" encoding="utf-8"?>
<Patch>
    <!--
    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_123456</key>
        <defaultValue>false</defaultValue>
        <caseTrue>

        </caseTrue>
        <caseFalse>

        </caseFalse>
    </Operation>

    -->
    <!-- I believe this is a patch for "weapons from the vault" mod, making the shards ten times more expensive -->

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_shard</key>
        <defaultValue>false</defaultValue>
        <caseTrue>

            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/ThingDef[defName="WFTV_ComponentShar"]/statBases/MarketValue</xpath>
                <value>
                    <MarketValue>5000</MarketValue>
                </value>
            </Operation>

        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>


    <!-- rimsenal research patch -->

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_rimsenal</key>
        <defaultValue>false</defaultValue>
        <caseTrue>

            <Operation Class="PatchOperationAdd">
                <success>Always</success>
                <xpath>Defs/ResearchProjectDef[defName="DefenceTech"]/prerequisites</xpath>
                <value>
                    <li>PrecisionRifling</li>
                </value>
            </Operation>

        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>


    <!-- ek-whatever-phobia trait and demolition expert traits were too common  -->
    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_ekwhateverphobia</key>
        <defaultValue>false</defaultValue>
        <caseTrue>

            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/TraitDef[defName="anxietyBomb" or defName="DemoExpert"]/commonality</xpath>
                <value>
                    <commonality>0.1</commonality>
                </value>
            </Operation>

            <!-- mechanic traits are also quite specific to have commonality 1 -->

            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/TraitDef[defName="Mechanic"]/commonality</xpath>
                <value>
                    <commonality>0.35</commonality>
                </value>
            </Operation>

        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <!-- pretty sure no affair mod breaks affairs -->

    <!--
    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_affair</key>
        <defaultValue>false</defaultValue>
        <caseTrue>


            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/ThoughtDef[defName="Affair"]/stages/li</xpath>
                <value>
                    <li>
                        <label>affair</label>
                        <baseOpinionOffset>0</baseOpinionOffset>
                    </li>
                </value>
            </Operation>


        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>
-->

    <!-- gacha figurines can't be exploited for deconstruction -->
    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_gacha</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/ThingDef[defName="Gachapon"]/costStuffCount</xpath>
                <value>
                    <costStuffCount>1</costStuffCount>
                </value>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>


    <!--
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>carnap2TPatchesModPatch</patchName>
        <arguments>
            <li>TPatchesFantasyMetalSolpyrite</li>
            <li>Fantasy Metals Reforged</li>
            <li>Tweaks</li>
            <li>Replace "golden?" with solpyrite</li>
            <li>Items made from solpyrite will have "solpyrite" adjective instead of "golden?".</li>
            <li>xpath: removes Defs/ThingDef[defName="Solorite"]/stuffAdjective</li>
            <li>false</li>
        </arguments>
    </Operation>
-->
    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_solpyrite</key>
        <defaultValue>false</defaultValue>
        <caseTrue>

            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/ThingDef[defName="Solorite"]/stuffProps/stuffAdjective</xpath>
            </Operation>

        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>


    <!--
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>carnap2TPatchesModPatch</patchName>
        <arguments>
            <li>TPatchesMegafauna_manhunterOnTameFailChance</li>
            <li>Megafauna</li>
            <li>Tweaks</li>
            <li>Fix tame revenge chance</li>
            <li>Fixes several megafauna tame revenge chances being 0.28% instead of 28% (which is probably a bug).</li>
            <li>Chalicotherium, Procoptodon, Castoroides, Sivatherium, Macrauchenia, Megaloceros</li>
            <li>false</li>
        </arguments>
    </Operation>
-->

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_megafauna</key>
        <defaultValue>false</defaultValue>
        <caseTrue>


            <Operation Class="PatchOperationSequence">
                <success>Always</success>
                <operations>
                    <li Class="PatchOperationReplace">
                        <xpath>Defs/ThingDef[defName="Chalicotherium"]/race/manhunterOnTameFailChance</xpath>
                        <value>
                            <manhunterOnTameFailChance>0.28</manhunterOnTameFailChance>
                        </value>
                    </li>
                    <li Class="PatchOperationReplace">
                        <success>Always</success>
                        <xpath>Defs/ThingDef[defName="Procoptodon"]/race/manhunterOnTameFailChance</xpath>
                        <value>
                            <manhunterOnTameFailChance>0.28</manhunterOnTameFailChance>
                        </value>
                    </li>
                    <li Class="PatchOperationReplace">
                        <success>Always</success>
                        <xpath>Defs/ThingDef[defName="Castoroides"]/race/manhunterOnTameFailChance</xpath>
                        <value>
                            <manhunterOnTameFailChance>0.28</manhunterOnTameFailChance>
                        </value>
                    </li>
                    <li Class="PatchOperationReplace">
                        <success>Always</success>
                        <xpath>Defs/ThingDef[defName="Sivatherium"]/race/manhunterOnTameFailChance</xpath>
                        <value>
                            <manhunterOnTameFailChance>0.28</manhunterOnTameFailChance>
                        </value>
                    </li>
                    <li Class="PatchOperationReplace">
                        <success>Always</success>
                        <xpath>Defs/ThingDef[defName="Macrauchenia"]/race/manhunterOnTameFailChance</xpath>
                        <value>
                            <manhunterOnTameFailChance>0.28</manhunterOnTameFailChance>
                        </value>
                    </li>
                    <li Class="PatchOperationReplace">
                        <success>Always</success>
                        <xpath>Defs/ThingDef[defName="Megaloceros"]/race/manhunterOnTameFailChance</xpath>
                        <value>
                            <manhunterOnTameFailChance>0.5</manhunterOnTameFailChance>
                        </value>
                    </li>
                </operations>
            </Operation>

        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>


    <!--
    <Operation Class="XmlExtensions.ApplyPatch">
        <patchName>carnap2TPatchesModPatch</patchName>
        <arguments>
            <li>TPatchesFantasyMetals</li>
            <li>Fantasy Metals Reforged</li>
            <li>Balancing</li>
            <li>Fantasy Metals Reforge deep drilling rebalance</li>
            <li>Makes Fantasy Metals appear less when using ground-penetrating scanner, which makes vanilla materials more common. Makes lumps smaller. Those materials are very expensive, but without this patch too easy to mine and sell.</li>
            <li>commonalities reduced from 0.3 to 0.06, reduced lump sizes and portion sizes.</li>
            <li>false</li>
        </arguments>
    </Operation>
-->


    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_fantasydeep</key>
        <defaultValue>false</defaultValue>
        <caseTrue>


            <Operation Class="PatchOperationSequence">
                <success>Always</success>
                <operations>
                    <!-- because there are no prefixes in defnames it first tests if the mod that is loaded is appropriate -->
                    <li Class="PatchOperationReplace">
                        <success>Normal</success>
                        <xpath>Defs/ThingDef[defName="Skelsshkrum"]/deepCommonality</xpath>
                        <value>
                            <deepCommonality>0.06</deepCommonality>
                        </value>
                    </li>

                    <li Class="PatchOperationReplace">
                        <success>Normal</success>
                        <xpath>Defs/ThingDef[defName="Mithril" or
                    defName="Orichalcum" or
                    defName="Adamantite" or
                    defName="Tozra" or
                    defName="Solorite"]/deepCommonality</xpath>
                        <value>
                            <deepCommonality>0.06</deepCommonality>
                        </value>
                    </li>

                    <li Class="PatchOperationReplace">
                        <success>Normal</success>
                        <xpath>Defs/ThingDef[defName="Mithril" or
                    defName="Orichalcum" or
                    defName="Adamantite" or
                    defName="Tozra" or
                    defName="Solorite"]/deepLumpSizeRange</xpath>
                        <value>
                            <deepLumpSizeRange>
                                <min>1</min>
                                <max>5</max>
                            </deepLumpSizeRange>
                        </value>
                    </li>

                    <li Class="PatchOperationReplace">
                        <success>Normal</success>
                        <xpath>Defs/ThingDef[defName="Mithril" or
                    defName="Orichalcum" or
                    defName="Adamantite" or
                    defName="Tozra" or
                    defName="Solorite"]/deepCountPerPortion</xpath>
                        <value>
                            <deepCountPerPortion>5</deepCountPerPortion>
                        </value>
                    </li>

                </operations>
            </Operation>


        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <!-- rimfantasy gemstones - replaces gemstones from rimfantasy with tmaterials ones because they had the same stats and description and i didn't like it -->
    <!--
    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_gemstones</key>
        <defaultValue>false</defaultValue>
        <caseTrue>

            <Operation Class="PatchOperationFindMod">
                <mods>
                    <li>TMaterials</li>
                </mods>
                <match Class="PatchOperationSequence">
                    <success>Always</success>
                    <operations>

                        <li Class="PatchOperationRemove">
                            <success>Normal</success>
                            <xpath>Defs/ThingDef[
                            defName="RF_Diamond" or
                            defName="RF_Ruby" or
                            defName="RF_Carnelian" or
                            defName="RF_Citrine" or
                            defName="RF_Peridot" or
                            defName="RF_Emerald" or
                            defName="RF_Aquamarine" or
                            defName="RF_Sapphire" or
                            defName="RF_Amethyst" or
                            defName="RF_Kunzite" or
                            defName="RF_Onyx"]</xpath>
                        </li>

                        <li Class="PatchOperationReplace">
                            <success>Normal</success>
                            <xpath>Defs/ThingDef/defName[text()="carnap_diamond"]</xpath>
                            <value>
                                <defName>RF_Diamond</defName>
                            </value>
                        </li>

                        <li Class="PatchOperationReplace">
                            <success>Normal</success>
                            <xpath>Defs/ThingDef/defName[text()="carnap_ruby"]</xpath>
                            <value>
                                <defName>RF_Ruby</defName>
                            </value>
                        </li>

                        <li Class="PatchOperationReplace">
                            <success>Normal</success>
                            <xpath>Defs/ThingDef/defName[text()="carnap_carnelian"]</xpath>
                            <value>
                                <defName>RF_Carnelian</defName>
                            </value>
                        </li>

                        <li Class="PatchOperationReplace">
                            <success>Normal</success>
                            <xpath>Defs/ThingDef/defName[text()="carnap_citrine"]</xpath>
                            <value>
                                <defName>RF_Citrine</defName>
                            </value>
                        </li>

                        <li Class="PatchOperationReplace">
                            <success>Normal</success>
                            <xpath>Defs/ThingDef/defName[text()="carnap_peridot"]</xpath>
                            <value>
                                <defName>RF_Peridot</defName>
                            </value>
                        </li>

                        <li Class="PatchOperationReplace">
                            <success>Normal</success>
                            <xpath>Defs/ThingDef/defName[text()="carnap_emerald"]</xpath>
                            <value>
                                <defName>RF_Emerald</defName>
                            </value>
                        </li>

                        <li Class="PatchOperationReplace">
                            <success>Normal</success>
                            <xpath>Defs/ThingDef/defName[text()="carnap_aquamarine"]</xpath>
                            <value>
                                <defName>RF_Aquamarine</defName>
                            </value>
                        </li>

                        <li Class="PatchOperationReplace">
                            <success>Normal</success>
                            <xpath>Defs/ThingDef/defName[text()="carnap_sapphire"]</xpath>
                            <value>
                                <defName>RF_Sapphire</defName>
                            </value>
                        </li>

                        <li Class="PatchOperationReplace">
                            <success>Normal</success>
                            <xpath>Defs/ThingDef/defName[text()="carnap_amethyst"]</xpath>
                            <value>
                                <defName>RF_Amethyst</defName>
                            </value>
                        </li>

                        <li Class="PatchOperationReplace">
                            <success>Normal</success>
                            <xpath>Defs/ThingDef/defName[text()="carnap_kunzite"]</xpath>
                            <value>
                                <defName>RF_Kunzite</defName>
                            </value>
                        </li>

                        <li Class="PatchOperationReplace">
                            <success>Normal</success>
                            <xpath>Defs/ThingDef/defName[text()="carnap_onyx"]</xpath>
                            <value>
                                <defName>RF_Onyx</defName>
                            </value>
                        </li>

                    </operations>
                </match>
            </Operation>

        </caseTrue>
        <caseFalse>

            <Operation Class="PatchOperationFindMod">
                <mods>
                    <li>RimFantasy - Gemstones</li>
                </mods>
                <match Class="PatchOperationSequence">
                    <success>Always</success>
                    <operations>

                        <li Class="PatchOperationRemove">
                            <success>Always</success>
                            <xpath>Defs/ThingDef[
                            defName="carnap_diamond" or
                            defName="carnap_ruby" or
                            defName="carnap_carnelian" or
                            defName="carnap_citrine" or
                            defName="carnap_peridot" or
                            defName="carnap_emerald" or
                            defName="carnap_aquamarine" or
                            defName="carnap_sapphire" or
                            defName="carnap_amethyst" or
                            defName="carnap_kunzite" or
                            defName="carnap_onyx"]</xpath>
                        </li>

                    </operations>
                </match>
            </Operation>


        </caseFalse>
    </Operation>
-->

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_rcustomstats</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>
                    Defs/AlienRace.ThingDef_AlienRace/statBases/ResearchSpeed |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/MiningSpeed |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/GeneralLaborSpeed |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/ConstructSuccessChance |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/DeepDrillingSpeed |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/MiningYield |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/SmoothingSpeed |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/AnimalGatherSpeed |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/AnimalGatherYield |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/PlantWorkSpeed |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/PlantHarvestYield |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/DrugHarvestYield |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/ConstructionSpeed |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/ConstructSuccessChance |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/FixBrokenDownBuildingSuccessChance |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/MedicalTendSpeed |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/MedicalTendQuality |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/MedicalOperationSpeed |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/MedicalSurgerySuccessChance |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/SmeltingSpeed |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/DrugSynthesisSpeed |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/CookSpeed |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/FoodPoisonChance |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/DrugCookingSpeed |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/ButcheryFleshSpeed |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/ButcheryMechanoidSpeed |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/ButcheryFleshEfficiency |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/ButcheryMechanoidEfficiency |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/ButcheryFleshEfficiency |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/NegotiationAbility |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/TradePriceImprovement |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/DrugSellPriceImprovement |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/TameAnimalChance |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/TrainAnimalChance |
                    Defs/AlienRace.ThingDef_AlienRace/statBases/ForagedNutritionPerDay

                </xpath>
            </Operation>

        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_MentalBreakThreshold</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/statBases/MentalBreakThreshold</xpath>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_GlobalLearningFactor</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/statBases/GlobalLearningFactor</xpath>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_ShootingAccuracyPawn</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/statBases/ShootingAccuracyPawn</xpath>
            </Operation>
            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/statBases/AimingDelayFactor</xpath>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>


    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_HumongousMoveSpeeds</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/statBases/MoveSpeed[text()>"4.6"]</xpath>
                <value>
                    <MoveSpeed>4.6</MoveSpeed>
                </value>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_ImmunityGainSpeed</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/statBases/ImmunityGainSpeed</xpath>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_ToxicSensitivity</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/statBases/ToxicSensitivity</xpath>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_PsychicSensitivity</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/statBases/PsychicSensitivity</xpath>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_HungerRate</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/statBases/HungerRateMultiplier</xpath>
            </Operation>
            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/race/baseHungerRate</xpath>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_lifeExpectancy</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/race[lifeExpectancy>"100"]/ageGenerationCurve</xpath>
                <value>
                    <ageGenerationCurve>
                        <points>
                            <li>(14,0)</li>
                            <li>(16,100)</li>
                            <li>(50,100)</li>
                            <li>(60,30)</li>
                            <li>(70,18)</li>
                            <li>(80,10)</li>
                            <li>(90,3)</li>
                            <li>(100,0)</li>
                        </points>
                    </ageGenerationCurve>
                </value>
            </Operation>
            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/race/lifeExpectancy[text()>"100"]</xpath>
                <value>
                    <lifeExpectancy>100</lifeExpectancy>
                </value>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>


    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_RestRate</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/statBases/RestRateMultiplier</xpath>
            </Operation>
            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/race/baseRestRate</xpath>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_Temperature</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/statBases/ComfyTemperatureMin</xpath>
                <value>
                    <ComfyTemperatureMin>16</ComfyTemperatureMin>
                </value>
            </Operation>
            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/statBases/ComfyTemperatureMax</xpath>
                <value>
                    <ComfyTemperatureMax>26</ComfyTemperatureMax>
                </value>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>


    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_PainShockThreshold</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/statBases/PainShockThreshold[text()>"1"]</xpath>
                <value>
                    <PainShockThreshold>1</PainShockThreshold>
                </value>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_FoodType</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/race/foodType</xpath>
                <value>
                    <foodType>OmnivoreHuman</foodType>
                </value>
            </Operation>

            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/ThingDef[defName = "Chemfuel" or defName = "Uranium"]/statBases/Nutrition</xpath>
            </Operation>
            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/ThingDef[defName = "Chemfuel" or defName = "Uranium"]/socialPropernessMatters</xpath>
            </Operation>
            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/ThingDef[defName = "Chemfuel" or defName = "Uranium"]/ingestible</xpath>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>


    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_thoughtSettings</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/alienRace/thoughtSettings</xpath>
            </Operation>
            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/race/thinkTreeMain</xpath>
                <value>
                    <thinkTreeMain>Humanlike</thinkTreeMain>
                </value>
            </Operation>
            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/race/thinkTreeConstant</xpath>
                <value>
                    <thinkTreeConstant>HumanlikeConstant</thinkTreeConstant>
                </value>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_forcedRaceTraitEntries</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/alienRace/generalSettings/forcedRaceTraitEntries</xpath>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_disallowedTraits</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/alienRace/generalSettings/disallowedTraits</xpath>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_traitCount</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/alienRace/generalSettings/traitCount</xpath>
            </Operation>
            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/alienRace/generalSettings/additionalTraits</xpath>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_raceRestriction</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/alienRace/raceRestriction</xpath>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>


    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_raceRestriction</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/alienRace/raceRestriction</xpath>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_chemicalSettings</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/alienRace/generalSettings/chemicalSettings</xpath>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_hediffGraphics</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/alienRace/generalSettings/alienPartGenerator/bodyAddons/hediffGraphics</xpath>
            </Operation>
            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/alienRace/generalSettings/alienPartGenerator/bodyAddons/backstoryGraphics</xpath>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_humanRecipeImport</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="XmlExtensions.PatchOperationAddOrReplace">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace/alienRace/generalSettings</xpath>
                <value>
                    <humanRecipeImport>true</humanRecipeImport>
                </value>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>


    <!-- personal -->

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_SLIMES</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/ThingDef[@Name="SlimeThingBase"]/race/wildBiomes</xpath>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_hanarfat</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/AlienRace.ThingDef_AlienRace[defName="AlienHanar"]/alienRace/generalSettings/alienPartGenerator/alienbodytypes</xpath>
                <value>
                    <alienbodytypes>
                        <li>Fat</li>
                    </alienbodytypes>
                </value>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_skeletons</key>
        <defaultValue>false</defaultValue>
        <caseTrue>

            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/ThoughtDef[defName="MechClusterSkeleton" or 
                    defName="MedicalSpecialistSkeleton" or 
                    defName="StyleDesiredSkeleton" or 
                    defName="ReactorNeeds" or 
                    defName="ReGrowthSandy_Skeletons"]</xpath>
            </Operation>

            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/ThinkTreeDef[defName="Roboticlike"]</xpath>
            </Operation>

        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>


    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_bamboo</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/ThingDef[defName="Bamboo"]/statBases/MarketValue</xpath>
                <value>
                    <MarketValue>0.7</MarketValue>
                </value>
            </Operation>
            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/ThingDef[defName="Bamboo"]/statBases/MaxHitPoints</xpath>
                <value>
                    <MaxHitPoints>75</MaxHitPoints>
                </value>
            </Operation>
            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/ThingDef[defName="Bamboo"]/statBases/Mass</xpath>
                <value>
                    <Mass>0.1</Mass>
                </value>
            </Operation>
            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/ThingDef[defName="Bamboo"]/statBases/StuffPower_Armor_Sharp</xpath>
                <value>
                    <StuffPower_Armor_Sharp>0.3</StuffPower_Armor_Sharp>
                </value>
            </Operation>
            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/ThingDef[defName="Bamboo"]/statBases/StuffPower_Armor_Blunt</xpath>
                <value>
                    <StuffPower_Armor_Blunt>0.3</StuffPower_Armor_Blunt>
                </value>
            </Operation>
            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/ThingDef[defName="Bamboo"]/statBases/StuffPower_Armor_Heat</xpath>
                <value>
                    <StuffPower_Armor_Heat>0.3</StuffPower_Armor_Heat>
                </value>
            </Operation>
            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/ThingDef[defName="Bamboo"]/statBases/StuffPower_Insulation_Cold</xpath>
                <value>
                    <StuffPower_Insulation_Cold>4</StuffPower_Insulation_Cold>
                </value>
            </Operation>
            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/ThingDef[defName="Bamboo"]/statBases/StuffPower_Insulation_Heat</xpath>
                <value>
                    <StuffPower_Insulation_Heat>4</StuffPower_Insulation_Heat>
                </value>
            </Operation>
            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/ThingDef[defName="Bamboo"]/statBases/BluntDamageMultiplier</xpath>
                <value>
                    <BluntDamageMultiplier>0.8</BluntDamageMultiplier>
                </value>
            </Operation>
            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/ThingDef[defName="Bamboo"]/stuffProps/commonality</xpath>
                <value>
                    <commonality>0.0001</commonality>
                </value>
            </Operation>
            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/ThingDef[defName="Bamboo"]/stuffProps/statOffsets/Beauty</xpath>
                <value>
                    <Beauty>-1</Beauty>
                </value>
            </Operation>
            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/ThingDef[defName="Bamboo"]/stuffProps/statFactors/MaxHitPoints</xpath>
                <value>
                    <MaxHitPoints>0.45</MaxHitPoints>
                </value>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_bamboocolor</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/ThingDef[defName="Bamboo"]/stuffProps/color</xpath>
                <value>
                    <color>(159,161,98)</color>
                </value>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_bamboorecipes</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/RecipeDef[defName="MakeBambooWood" or defName="MakeBambooWoodBulk" or defName="MakeChemfuelFromBamboo"]</xpath>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_wddropdown</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationAdd">
                <success>Always</success>
                <xpath>Defs</xpath>
                <value>
                    <DesignatorDropdownGroupDef>
                        <defName>testspatches_wdjade</defName>
                    </DesignatorDropdownGroupDef>
                </value>
            </Operation>
            <Operation Class="PatchOperationAdd">
                <success>Always</success>
                <xpath>Defs/TerrainDef[@Name="WDJadeFloorBase" and not(designatorDropdown)]</xpath>
                <value>
                    <designatorDropdown>testspatches_wdjade</designatorDropdown>
                </value>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_ssdropdown</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationAdd">
                <success>Always</success>
                <xpath>Defs</xpath>
                <value>
                    <DesignatorDropdownGroupDef>
                        <defName>testspatches_ss</defName>
                    </DesignatorDropdownGroupDef>
                </value>
            </Operation>
            <Operation Class="PatchOperationAdd">
                <success>Always</success>
                <xpath>Defs/TerrainDef[@Name="SS_TerrainBase" and not(designatorDropdown)]</xpath>
                <value>
                    <designatorDropdown>testspatches_ss</designatorDropdown>
                </value>
            </Operation>
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>


    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_voe</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <!-- farming -->

            <!-- artillery -->

            <!-- defensive -->

            <!-- drilling -->
            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/WorldObjectDef[defName="Outpost_Drilling"]/modExtensions/li[@Class="Outposts.OutpostExtension]/ResultOptions/li[Thing="Chemfuel"]/BaseAmount</xpath>
                <value>
                    <BaseAmount>100</BaseAmount>
                </value>
            </Operation>

            <!-- encampment -->

            <!-- huting -->

            <!-- logging -->
            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/WorldObjectDef[defName="Outpost_Logging"]/modExtensions/li[@Class="Outposts.OutpostExtension]/ResultOptions/li[Thing="WoodLog"]/AmountPerPawn</xpath>
                <value>
                    <AmountPerPawn>50</AmountPerPawn>
                </value>
            </Operation>

            <!-- mining -->

            <!-- production -->
            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/WorldObjectDef[defName="Outpost_Production"]/modExtensions/li[@Class="Outposts.OutpostExtension]/ResultOptions/li[Thing="ComponentIndustrial"]/AmountsPerSkills/Crafting</xpath>
                <value>
                    <Crafting>0.2</Crafting>
                </value>
            </Operation>

            <Operation Class="PatchOperationReplace">
                <success>Always</success>
                <xpath>Defs/WorldObjectDef[defName="Outpost_Production"]/modExtensions/li[@Class="Outposts.OutpostExtension]/ResultOptions/li[Thing="ComponentSpacer"]/AmountsPerSkills/Crafting</xpath>
                <value>
                    <Crafting>0.1</Crafting>
                </value>
            </Operation>

            <!-- scavenging -->

            <!-- science -->

            <!-- town -->

            <!-- trading -->
        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>


    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_donteatmyseedspleasethankyou</key>
        <defaultValue>false</defaultValue>
        <caseTrue>

            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/ThingDef[@Name="SeedBase"]/statBases/Nutrition | Defs/ThingDef[@Name="SeedBase"]/ingestible</xpath>
            </Operation>

        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>


    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_seedspleasenope</key>
        <defaultValue>false</defaultValue>
        <caseTrue>

            <Operation Class="PatchOperationRemove">
                <success>Always</success>
                <xpath>Defs/ThingDef[defName="Plant_HealrootWild"]/plant/harvestedThingDef | ThingDef/modExtensions/li[@Class="SeedsPleaseLite.Seed"]/harvestOverride | Defs/TraderKindDef[defName = "Orbital_BulkGoods"]/stockGenerators/li[thingDef="RawCotton"]</xpath>
            </Operation>

        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>

    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_catfix</key>
        <defaultValue>false</defaultValue>
        <caseTrue>

            <Operation Class="PatchOperationFindMod">
                <mods>
                    <li>Animal Commonality Tweaker</li>
                </mods>
                <match Class="PatchOperationRemove">
                    <success>Always</success>
                    <xpath>Defs/ThingDef[(@Abstract="true" or @Abstract="True")]/race/wildBiomes</xpath>
                </match>
            </Operation>

        </caseTrue>
        <caseFalse></caseFalse>
    </Operation>


    <!--
    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>tests.patches</modId>
        <key>testspatches_123456</key>
        <defaultValue>false</defaultValue>
        <caseTrue>

        </caseTrue>
        <caseFalse>

        </caseFalse>
    </Operation>

    -->


</Patch>